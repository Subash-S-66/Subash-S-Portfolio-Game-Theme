/*
 * ═══════════════════════════════════════════════════════════════
 *  GAMING HUD / FINAL BOSS BATTLE INTERFACE
 *  Dark metallic + Neon red/cyan + Combat UI
 * ═══════════════════════════════════════════════════════════════
 */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&family=Rajdhani:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
    --void: #050508;
    --hud-bg: #0a0a0f;
    --hud-surface: rgba(255, 0, 51, 0.03);
    --hud-border: rgba(255, 0, 51, 0.15);
    --hud-border-dim: rgba(255, 0, 51, 0.06);
    --neon-red: #ff0033;
    --neon-cyan: #00f0ff;
    --neon-yellow: #ffaa00;
    --neon-green: #00ff88;
    --text: #c8c8d0;
    --text-muted: rgba(200, 200, 210, 0.35);
  }
  * { box-sizing: border-box; cursor: none; }
  html, body, #root { width: 100%; min-height: 100%; }
  html { scroll-behavior: auto; background: var(--void); }
  body {
    margin: 0; overflow-x: hidden;
    font-family: 'Rajdhani', system-ui, sans-serif;
    background: var(--void); color: var(--text);
    -webkit-font-smoothing: antialiased;
  }
  a { color: inherit; text-decoration: none; }
  ::selection { background: rgba(255, 0, 51, 0.3); color: #fff; }
}

/* ═══════ FONTS ═══════ */
.font-hud { font-family: 'Orbitron', sans-serif; }
.font-tactical { font-family: 'Rajdhani', sans-serif; }
.font-mono { font-family: 'JetBrains Mono', monospace; }

/* ═══════ TARGETING CURSOR ═══════ */
.cursor-ring {
  position: fixed; top: 0; left: 0; width: 44px; height: 44px;
  border: 1.5px solid rgba(255,0,51,0.5); pointer-events: none;
  z-index: 99999; will-change: transform;
  transition: width .3s, height .3s, border-color .3s, box-shadow .3s;
  box-shadow: 0 0 15px rgba(255,0,51,0.15), inset 0 0 15px rgba(255,0,51,0.05);
  clip-path: polygon(0 30%,0 0,30% 0,70% 0,100% 0,100% 30%,100% 70%,100% 100%,70% 100%,30% 100%,0 100%,0 70%);
}
.cursor-dot {
  position: fixed; top: 0; left: 0; width: 6px; height: 6px;
  background: var(--neon-red); border-radius: 0; pointer-events: none;
  z-index: 99999; will-change: transform;
  box-shadow: 0 0 8px var(--neon-red), 0 0 20px rgba(255,0,51,0.4);
}

/* ═══════ SCANLINE OVERLAY ═══════ */
.scanline-overlay {
  position: fixed; inset: 0; z-index: 9998; pointer-events: none;
  background: repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(255,255,255,0.007) 2px,rgba(255,255,255,0.007) 4px);
}

/* ═══════ GRAIN ═══════ */
.grain-overlay {
  position: fixed; inset: 0; z-index: 9997; pointer-events: none; opacity: 0.04;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 180px; mix-blend-mode: overlay;
  animation: grain 3s steps(1) infinite; contain: strict;
}
@keyframes grain {
  0%,100%{transform:translate(0)}10%{transform:translate(-2%,-3%)}20%{transform:translate(3%,1%)}
  30%{transform:translate(-1%,2%)}40%{transform:translate(1%,-1%)}50%{transform:translate(-3%,3%)}
  60%{transform:translate(2%,-2%)}70%{transform:translate(-1%,1%)}80%{transform:translate(3%,-3%)}
  90%{transform:translate(-2%,2%)}
}

/* ═══════ GLITCH TEXT ═══════ */
.glitch-text { position: relative; }
.glitch-text::before,.glitch-text::after {
  content: attr(data-text); position: absolute; left: 0; top: 0; width: 100%; height: 100%;
}
.glitch-text::before { color: var(--neon-cyan); animation: gsh1 4s infinite; clip-path: inset(20% 0 40% 0); }
.glitch-text::after { color: var(--neon-red); animation: gsh2 4s infinite; clip-path: inset(60% 0 10% 0); }
@keyframes gsh1{0%,88%,100%{transform:translate(0)}90%{transform:translate(4px,-2px)}92%{transform:translate(-4px,2px)}94%{transform:translate(3px,0)}}
@keyframes gsh2{0%,85%,100%{transform:translate(0)}87%{transform:translate(-3px,2px)}90%{transform:translate(3px,-2px)}93%{transform:translate(-2px,0)}}

/* ═══════ ANIMATIONS ═══════ */
@keyframes radar-sweep { 0%{transform:rotate(0deg)} 100%{transform:rotate(360deg)} }
@keyframes energy-pulse {
  0%,100%{box-shadow:0 0 5px var(--neon-red),0 0 10px rgba(255,0,51,.2)}
  50%{box-shadow:0 0 15px var(--neon-red),0 0 30px rgba(255,0,51,.4),0 0 50px rgba(255,0,51,.1)}
}
@keyframes power-surge {
  0%{transform:scaleX(0);opacity:0}20%{transform:scaleX(.3);opacity:.8}
  40%{transform:scaleX(.2);opacity:.4}60%{transform:scaleX(.8);opacity:.9}
  80%{transform:scaleX(.6);opacity:.6}100%{transform:scaleX(1);opacity:1}
}
@keyframes hud-scan {
  0%{top:-2px;opacity:0}10%{opacity:.8}90%{opacity:.8}100%{top:100%;opacity:0}
}
@keyframes status-blink { 0%,100%{opacity:1}50%{opacity:.3} }
@keyframes hud-ring-spin { from{transform:rotate(0deg)}to{transform:rotate(360deg)} }
@keyframes hud-ring-spin-reverse { from{transform:rotate(360deg)}to{transform:rotate(0deg)} }
@keyframes transmission-wave {
  0%{transform:scale(.8);opacity:.8}50%{transform:scale(1.5);opacity:.3}100%{transform:scale(2);opacity:0}
}
@keyframes damage-flash { 0%{opacity:0}10%{opacity:.3}20%{opacity:0}30%{opacity:.15}100%{opacity:0} }
@keyframes data-stream { 0%{transform:translateY(-100%)}100%{transform:translateY(100%)} }
@keyframes power-bar-shimmer { 0%{transform:translateX(-100%)}100%{transform:translateX(100%)} }

/* ═══ NEW: Electric arc flicker ═══ */
@keyframes arc-flicker {
  0%,18%,22%,25%,53%,57%,100%{opacity:1}
  20%{opacity:.2}24%{opacity:.6}55%{opacity:.3}
}
/* ═══ NEW: Chromatic aberration pulse ═══ */
@keyframes chromatic-pulse {
  0%,100%{text-shadow:0 0 0 transparent}
  25%{text-shadow:-2px 0 #00f0ff, 2px 0 #ff0033}
  50%{text-shadow:0 0 0 transparent}
  75%{text-shadow:1px 0 #ff0033, -1px 0 #00f0ff}
}
/* ═══ NEW: Warning strobe ═══ */
@keyframes warning-strobe {
  0%,100%{border-color:rgba(255,0,51,.06)}
  50%{border-color:rgba(255,0,51,.25)}
}
/* ═══ NEW: Data cascade ═══ */
@keyframes data-cascade {
  0%{opacity:0;transform:translateY(-10px)}
  10%{opacity:1;transform:translateY(0)}
  90%{opacity:1;transform:translateY(0)}
  100%{opacity:0;transform:translateY(10px)}
}
/* ═══ NEW: HUD breathing glow ═══ */
@keyframes hud-breathe {
  0%,100%{box-shadow:0 0 20px rgba(255,0,51,.04),inset 0 0 20px rgba(255,0,51,.01)}
  50%{box-shadow:0 0 40px rgba(255,0,51,.1),inset 0 0 30px rgba(255,0,51,.03)}
}
/* ═══ NEW: Neon text flicker ═══ */
@keyframes neon-flicker {
  0%,19.999%,22%,62.999%,64%,64.999%,70%,100%{opacity:1}
  20%,21.999%,63%,63.999%,65%,69.999%{opacity:.33}
}
/* ═══ NEW: Threat scanner ═══ */
@keyframes threat-scan {
  0%{background-position:0 -100%}
  100%{background-position:0 200%}
}
/* ═══ NEW: Digital noise ═══ */
@keyframes digital-noise {
  0%{clip-path:inset(40% 0 61% 0)}10%{clip-path:inset(92% 0 1% 0)}
  20%{clip-path:inset(43% 0 1% 0)}30%{clip-path:inset(25% 0 58% 0)}
  40%{clip-path:inset(54% 0 7% 0)}50%{clip-path:inset(58% 0 43% 0)}
  60%{clip-path:inset(2% 0 40% 0)}70%{clip-path:inset(76% 0 9% 0)}
  80%{clip-path:inset(13% 0 63% 0)}90%{clip-path:inset(1% 0 84% 0)}
  100%{clip-path:inset(50% 0 30% 0)}
}
/* ═══ NEW: Energy flow ═══ */
@keyframes energy-flow {
  0%{background-position:-200% 0}
  100%{background-position:200% 0}
}
/* ═══ NEW: Hexagon rotate ═══ */
@keyframes hex-rotate {
  0%{transform:rotate(0deg) scale(1)}
  50%{transform:rotate(180deg) scale(1.05)}
  100%{transform:rotate(360deg) scale(1)}
}
/* ═══ NEW: Matrix rain character ═══ */
@keyframes matrix-fall {
  0%{transform:translateY(-100vh);opacity:0}
  10%{opacity:1}
  90%{opacity:1}
  100%{transform:translateY(100vh);opacity:0}
}
/* ═══ NEW: Pulse ring expand ═══ */
@keyframes pulse-ring {
  0%{transform:scale(.5);opacity:.8;border-width:3px}
  100%{transform:scale(2.5);opacity:0;border-width:1px}
}
/* ═══ NEW: Typewriter blink for cursor ═══ */
@keyframes terminal-blink {
  0%,49%{border-color:var(--neon-red)}50%,100%{border-color:transparent}
}
/* ═══ NEW: Distortion wave ═══ */
@keyframes distortion-wave {
  0%{transform:scaleX(1) scaleY(1)}
  25%{transform:scaleX(1.002) scaleY(0.998)}
  50%{transform:scaleX(0.998) scaleY(1.002)}
  75%{transform:scaleX(1.001) scaleY(0.999)}
  100%{transform:scaleX(1) scaleY(1)}
}
/* ═══ NEW: Floating particles ═══ */
@keyframes float-particle {
  0%{transform:translateY(0) translateX(0);opacity:0}
  20%{opacity:1}
  80%{opacity:1}
  100%{transform:translateY(-120px) translateX(30px);opacity:0}
}

/* ═══ EFFECT UTILITY CLASSES ═══ */
.animate-arc-flicker { animation: arc-flicker 3s ease-in-out infinite; }
.animate-chromatic { animation: chromatic-pulse 4s ease-in-out infinite; }
.animate-warning-strobe { animation: warning-strobe 2s ease-in-out infinite; }
.animate-hud-breathe { animation: hud-breathe 4s ease-in-out infinite; }
.animate-neon-flicker { animation: neon-flicker 5s linear infinite; }
.animate-distortion { animation: distortion-wave 3s ease-in-out infinite; }
.animate-energy-flow {
  background: linear-gradient(90deg, transparent, rgba(255,0,51,.15), rgba(0,240,255,.1), transparent);
  background-size: 200% 100%;
  animation: energy-flow 3s linear infinite;
}
.animate-threat-scan {
  background: linear-gradient(180deg, transparent 0%, rgba(255,0,51,.06) 45%, rgba(255,0,51,.15) 50%, rgba(255,0,51,.06) 55%, transparent 100%);
  background-size: 100% 300%;
  animation: threat-scan 3s linear infinite;
}
.animate-pulse-ring {
  border: 2px solid var(--neon-red);
  border-radius: 50%;
  animation: pulse-ring 2s cubic-bezier(0,0,.2,1) infinite;
}

.hud-scan-line {
  position: absolute; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg,transparent,var(--neon-red),transparent);
  box-shadow: 0 0 15px rgba(255,0,51,.5);
  animation: hud-scan 3s linear infinite; pointer-events: none; z-index: 30;
}

/* ═══════ HUD CORNERS ═══════ */
.hud-corner { position: absolute; width: 16px; height: 16px; z-index: 50; }
.hud-corner--tl { top:0;left:0;border-top:2px solid var(--neon-red);border-left:2px solid var(--neon-red); }
.hud-corner--tr { top:0;right:0;border-top:2px solid var(--neon-red);border-right:2px solid var(--neon-red); }
.hud-corner--bl { bottom:0;left:0;border-bottom:2px solid var(--neon-red);border-left:2px solid var(--neon-red); }
.hud-corner--br { bottom:0;right:0;border-bottom:2px solid var(--neon-red);border-right:2px solid var(--neon-red); }

/* ═══════ COMBAT CARD ═══════ */
.combat-card {
  background: linear-gradient(135deg,rgba(10,10,15,.95),rgba(18,18,26,.9));
  border: 1px solid var(--hud-border-dim); position: relative; overflow: hidden;
  transition: all .4s cubic-bezier(.16,1,.3,1);
}
.combat-card::before {
  content: ''; position: absolute; inset: 0;
  background: linear-gradient(180deg,rgba(255,0,51,.02),transparent 40%); pointer-events: none;
}
.combat-card:hover {
  border-color: var(--hud-border);
  box-shadow: 0 0 30px rgba(255,0,51,.08),0 20px 60px rgba(0,0,0,.5);
}

/* ═══════ POWER BAR ═══════ */
.power-bar { position: relative; height: 6px; background: rgba(255,255,255,.04); border: 1px solid rgba(255,0,51,.1); overflow: hidden; }
.power-bar-fill { height: 100%; position: relative; transition: width 2s cubic-bezier(.16,1,.3,1); }
.power-bar-fill::after {
  content: ''; position: absolute; inset: 0;
  background: linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);
  animation: power-bar-shimmer 2s linear infinite;
}

/* ═══════ TERMINAL INPUT ═══════ */
.terminal-input {
  width: 100%; border: 1px solid var(--hud-border-dim); background: rgba(5,5,8,.8);
  padding: 1rem; color: var(--neon-cyan); font-family: 'JetBrains Mono', monospace;
  font-size: .8rem; outline: none; transition: all .3s;
}
.terminal-input:focus {
  border-color: var(--neon-red);
  box-shadow: 0 0 20px rgba(255,0,51,.1),inset 0 0 20px rgba(255,0,51,.03);
}
.terminal-input::placeholder { color: rgba(200,200,210,.15); font-family: 'JetBrains Mono', monospace; }

/* ═══════ SCROLLBAR ═══════ */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: #050508; }
::-webkit-scrollbar-thumb { background: linear-gradient(180deg,var(--neon-red),rgba(255,0,51,.3)); }

/* ═══════ SCENE TRANSITION ═══════ */
.scene-transition-line {
  position: relative; height: 1px; margin-bottom: -1px;
  background: linear-gradient(90deg,transparent 5%,rgba(255,0,51,.1) 30%,rgba(0,240,255,.06) 70%,transparent 95%);
  overflow: hidden;
}
.scene-transition-line::after {
  content: ''; position: absolute; top: 0; left: -40%; width: 40%; height: 100%;
  background: linear-gradient(90deg,transparent,rgba(255,0,51,.5),rgba(0,240,255,.3),transparent);
  animation: scene-energy-flow 4s ease-in-out infinite;
}
@keyframes scene-energy-flow { 0%{left:-40%}100%{left:100%} }

/* ═══════ HEX GRID ═══════ */
.hex-grid-bg {
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5L55 17.5V42.5L30 55L5 42.5V17.5L30 5Z' fill='none' stroke='rgba(255,0,51,0.03)' stroke-width='0.5'/%3E%3C/svg%3E");
  background-size: 60px 60px;
}

/* ═══════ HOLO EFFECT ═══════ */
.holo-effect {
  background-image: repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,240,255,.012) 3px,rgba(0,240,255,.012) 4px);
  animation: holo-lines 2s linear infinite;
}
@keyframes holo-lines { 0%{background-position:0 0}100%{background-position:0 40px} }

/* ═══════ RESPONSIVE CURSOR ═══════ */
@media (hover:none),(pointer:coarse) {
  * { cursor: auto !important; }
  .cursor-ring,.cursor-dot { display: none !important; }
}

section[id] { contain: layout style; }

@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important;
    transition-duration: .01ms !important; scroll-behavior: auto !important; }
}

